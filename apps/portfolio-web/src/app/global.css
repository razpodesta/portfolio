/**
 * @file Hoja de Estilos Global.
 * @version 13.0 - A Prueba de Errores de Producción
 * @description Se añade una regla para ocultar el overlay de errores de Next.js
 *              en entornos de producción mediante un selector condicional.
 */

@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-sans: 'var(--font-sans)', Inter, sans-serif;
  --font-display: 'var(--font-display)', Inter, sans-serif;
  --font-signature: 'var(--font-signature)', cursive;

  --color-background: oklch(var(--background));
  --color-foreground: oklch(var(--foreground));
  --color-border: oklch(var(--border));
  --color-primary: oklch(var(--primary));
  --color-primary-foreground: oklch(var(--primary-foreground));
  --color-accent: oklch(var(--accent));
  --color-accent-foreground: oklch(var(--accent-foreground));

  --text-shadow-sm: 0 1px 2px var(--tw-shadow-color);
  --text-shadow: 0 2px 4px var(--tw-shadow-color);
  --text-shadow-lg: 0 8px 16px var(--tw-shadow-color);
}

@layer base {
  :root {
    --background: 24.93% 0.02 244.38;
    --foreground: 98.05% 0.01 253.27;
    --border: 29.8% 0.04 252.34;
    --primary: 61.95% 0.26 257.53;
    --primary-foreground: 98.05% 0.01 253.27;
    --accent: 96.1% 0.02 250;
    --accent-foreground: 22.2% 0.09 252.2;
  }

  .light {
    --background: 100% 0 0;
    --foreground: 24.93% 0.02 244.38;
    --border: 91.4% 0.02 254.3;
    --primary: 59.22% 0.25 260.61;
    --primary-foreground: 98.05% 0.01 253.27;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    @apply scroll-smooth antialiased;
  }
}

/* ======================================================================== */
/* CAPA DE PRODUCCIÓN: OCULTACIÓN DE OVERLAYS DE DESARROLLO                  */
/* ======================================================================== */
/* Esta regla soberana oculta el portal de errores de Next.js cuando el     */
/* body tiene el atributo 'data-production-env' en 'true'.                  */
/* ======================================================================== */
body:has([data-production-env="true"]) nextjs-portal {
  display: none !important;
}


/* ======================================================================== */
/* CAPA 4: ESTILOS DE IMPRESIÓN (Modo Estricto A4)                          */
/* ======================================================================== */

@media print {
  @page {
    size: A4;
    /* Márgenes ajustados para permitir más contenido lateral */
    margin: 10mm 10mm 10mm 10mm;
  }

  @page {
    margin-top: 0;
    margin-bottom: 0;
  }

  body {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    background-color: white !important;
    color: black !important;
    padding-top: 10mm;
    padding-bottom: 10mm;
  }

  body * {
    visibility: hidden;
  }

  #curriculum-content, #curriculum-content * {
    visibility: visible;
  }

  #curriculum-content {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    margin: 0;
  }

  .print-hidden {
    display: none !important;
  }

  /* Evita que las secciones de habilidades se rompan feo */
  section, .experience-item, .skill-pill {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Pie de página de impresión */
  #print-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex !important;
    justify-content: space-between;
    border-top: 1px solid #e4e4e7;
    padding-top: 6px;
    font-size: 9px;
    color: #52525b;
  }

  #print-footer::after {
    content: "Página " counter(page);
  }
}
